import{a as y,u as h,r as a,j as e,L as x,s as p}from"./index-Do9N5Bdr.js";/* empty css                 */const N=()=>{const{signOut:d}=y(),r=h(),[o,m]=a.useState(""),[i,c]=a.useState(!1),[l,t]=a.useState(""),n="DELETE MY ACCOUNT",g=async s=>{if(s.preventDefault(),t(""),o!==n){t(`You must type "${n}" to confirm.`);return}c(!0);const{data:f,error:u}=await p.functions.invoke("delete-user",{body:{}});u?(t(u.message||"An unknown error occurred."),c(!1)):(await d(),r("/"),alert("Your account has been permanently deleted."))};return e.jsxs("div",{children:[e.jsx(x,{to:"/account/settings/security",className:"btn-secondary",style:{marginBottom:"2rem",display:"inline-block"},children:"â† Back to Security"}),e.jsx("h1",{children:"Delete Account"}),e.jsxs("div",{className:"danger-zone-warning",children:[e.jsx("strong",{children:"DANGER ZONE:"})," This action is irreversible. All your data, including your profile, settings, and any associated content, will be permanently deleted."]}),e.jsx("div",{className:"auth-form-container",style:{margin:"2rem"},children:e.jsxs("form",{className:"auth-form",onSubmit:g,children:[l&&e.jsx("p",{className:"error-message",children:l}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"confirmation",children:['To confirm, type "',e.jsx("strong",{children:n}),'" below:']}),e.jsx("input",{id:"confirmation",type:"text",value:o,onChange:s=>m(s.target.value),required:!0})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[e.jsx("button",{type:"submit",className:"btn-danger-standalone",disabled:i,children:i?"Deleting...":"Permanently Delete My Account"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>r("/account/settings/security"),children:"Cancel"})]})]})})]})};export{N as default};
